function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{BI3u:function(e,i,n){"use strict";n.r(i),n.d(i,"ExperiencePageModule",(function(){return w}));var t=n("ofXK"),s=n("tyNb"),l=n("fXoL"),c=n("+NYR"),o=n("YWyl");function r(e,i){if(1&e){var n=l.Nb();l.Mb(0,"div",9),l.Tb("click",(function(){return l.ec(n),l.Vb().displayEvents("left")})),l.Lb()}}var a=function(e,i,n,t){return{"timeline__line__item--active":e,"timeline__line__item--animated":i,"move-in-right":n,"move-in-left":t}};function d(e,i){if(1&e){var n=l.Nb();l.Mb(0,"div",10),l.Tb("click",(function(){l.ec(n);var e=i.$implicit;return l.Vb().currentEvent=e})),l.Mb(1,"h4",11),l.kc(2),l.Lb(),l.Mb(3,"h5",12),l.kc(4),l.Lb(),l.Lb()}if(2&e){var t=i.$implicit,s=l.Vb();l.Wb("ngClass",l.bc(3,a,t.index===s.currentEvent.index,t.index!=s.currentEvent.index,"right"===s.moveDir,"left"===s.moveDir)),l.xb(2),l.mc(" ",t.title," "),l.xb(2),l.mc(" ",t.date," ")}}function v(e,i){if(1&e){var n=l.Nb();l.Mb(0,"div",13),l.Tb("click",(function(){return l.ec(n),l.Vb().displayEvents("right")})),l.Lb()}}var u,b=((u=function(){function e(){_classCallCheck(this,e),this.eventsToShow=4,this.moveDir=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentEvent=this.events[0],this.displayingEvents=this.events.slice(0,this.eventsToShow),this.events.forEach((function(e,i){e.index=i}))}},{key:"displayEvents",value:function(e){if(this.moveDir=e,"left"===e){var i=this.displayingEvents[0];if(0===i.index)return;this.displayingEvents=this.events.slice(i.index-1,i.index+this.eventsToShow-1)}else if("right"===e){var n=this.displayingEvents[0];if(this.displayingEvents[this.eventsToShow-1].index>=this.events[this.events.length-1].index)return;this.displayingEvents=this.events.slice(n.index+1,n.index+this.eventsToShow+1)}}}]),e}()).\u0275fac=function(e){return new(e||u)},u.\u0275cmp=l.Bb({type:u,selectors:[["app-timeline"]],inputs:{events:"events"},decls:12,vars:6,consts:[[1,"timeline"],[1,"timeline__line"],["class","timeline__line__navigation timeline__line__navigation--left",3,"click",4,"ngIf"],["class","timeline__line__item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","timeline__line__navigation timeline__line__navigation--right",3,"click",4,"ngIf"],[1,"timeline__details"],[1,"timeline__details__title"],[1,"timeline__details__date"],[1,"timeline__details__description"],[1,"timeline__line__navigation","timeline__line__navigation--left",3,"click"],[1,"timeline__line__item",3,"ngClass","click"],[1,"timeline__line__item__title"],[1,"timeline__line__item__date"],[1,"timeline__line__navigation","timeline__line__navigation--right",3,"click"]],template:function(e,i){1&e&&(l.Mb(0,"div",0),l.Mb(1,"div",1),l.ic(2,r,1,0,"div",2),l.ic(3,d,5,8,"div",3),l.ic(4,v,1,0,"div",4),l.Lb(),l.Mb(5,"div",5),l.Mb(6,"h2",6),l.kc(7),l.Lb(),l.Mb(8,"h3",7),l.kc(9),l.Lb(),l.Mb(10,"p",8),l.kc(11),l.Lb(),l.Lb(),l.Lb()),2&e&&(l.xb(2),l.Wb("ngIf",0!=i.displayingEvents[0].index),l.xb(1),l.Wb("ngForOf",i.displayingEvents),l.xb(1),l.Wb("ngIf",i.displayingEvents[i.displayingEvents.length-1].index!=i.events[i.events.length-1].index),l.xb(3),l.lc(i.currentEvent.title),l.xb(2),l.lc(i.currentEvent.date),l.xb(2),l.lc(i.currentEvent.description))},directives:[t.j,t.i,t.h],styles:[""]}),u),f=n("qQYQ");function _(e,i){if(1&e&&(l.Mb(0,"div",3),l.Mb(1,"div",4),l.Ib(2,"app-timeline",5),l.Lb(),l.Lb()),2&e){var n=l.Vb();l.xb(2),l.Wb("events",n.data)}}function h(e,i){1&e&&l.Ib(0,"app-loading")}var p,g,m,y=function(e,i){return{"scroll-up":e,"scroll-down":i}},x=[{path:"",component:(p=function(){function e(i,n,t,s){_classCallCheck(this,e),this.router=i,this.viewportScroller=n,this.navigationService=t,this.firestoreService=s,this.data=[],this.loading=!0,this.justLoaded=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firestoreService.getResources("events").subscribe((function(i){i.forEach((function(i){e.data.push(Object.assign({id:i.payload.doc.id},i.payload.doc.data())),e.data.sort((function(e,i){return e.start.seconds<i.start.seconds?1:i.start.seconds<e.start.seconds?-1:0})),e.loading=!1}))})),this.lastScroll=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.navigationService.previousRoutePath.subscribe((function(i){"/skills"===i?e.scrollDirection="down":"/projects"===i&&(e.scrollDirection="up")})),setTimeout((function(){return e.justLoaded=!1}),500)}},{key:"onScroll",value:function(){if(this.justLoaded)this.viewportScroller.scrollToPosition([0,10]);else{var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;e>this.lastScroll?this.router.navigateByUrl("/projects"):e<this.lastScroll&&this.router.navigateByUrl("/skills"),this.lastScroll=e}}}]),e}(),p.\u0275fac=function(e){return new(e||p)(l.Hb(s.b),l.Hb(t.m),l.Hb(c.a),l.Hb(o.a))},p.\u0275cmp=l.Bb({type:p,selectors:[["app-experience-page"]],hostBindings:function(e,i){1&e&&l.Tb("scroll",(function(){return i.onScroll()}),!1,l.dc)},decls:3,vars:6,consts:[[1,"experience",3,"ngClass"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"content"],[1,"experience-content"],[3,"events"]],template:function(e,i){1&e&&(l.Mb(0,"section",0),l.ic(1,_,3,1,"div",1),l.ic(2,h,1,0,"app-loading",2),l.Lb()),2&e&&(l.Wb("ngClass",l.Zb(3,y,"up"===i.scrollDirection,"down"===i.scrollDirection)),l.xb(1),l.Wb("ngIf",!i.loading),l.xb(1),l.Wb("ngIf",i.loading))},directives:[t.h,t.j,b,f.a],styles:[""]}),p)}],k=((g=function e(){_classCallCheck(this,e)}).\u0275mod=l.Fb({type:g}),g.\u0275inj=l.Eb({factory:function(e){return new(e||g)},imports:[[s.e.forChild(x)],s.e]}),g),E=n("j1ZV"),w=((m=function e(){_classCallCheck(this,e)}).\u0275mod=l.Fb({type:m}),m.\u0275inj=l.Eb({factory:function(e){return new(e||m)},imports:[[t.b,k,E.a]]}),m)}}]);